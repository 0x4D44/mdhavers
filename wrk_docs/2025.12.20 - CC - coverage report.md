# Code Coverage Report (llvm-cov)
Date: 2025.12.20
Command: `cargo llvm-cov --workspace --no-default-features --features cli,llvm`

## Summary (src/*)
- Lines: 42389/43176 (98.18%)
- Functions: 1914/1959 (97.70%)
- Regions: 76288/79923 (95.45%)
- Instantiations: 5002/6914 (72.35%)

Note: The llvm-cov console report (all files, including tests) showed overall line coverage around 92.61% (97084 total lines). The figures above are the src-only summary from `target/llvm-cov-summary.json` (20 files).

## Lowest line-coverage files (src)
| File | Lines covered | Line % |
| --- | ---: | ---: |
| `src/main.rs` | 644/701 | 91.87% |
| `src/llvm/compiler.rs` | 221/237 | 93.25% |
| `src/wasm_compiler.rs` | 580/618 | 93.85% |
| `src/lsp/main.rs` | 225/238 | 94.54% |
| `src/compiler.rs` | 1054/1108 | 95.13% |
| `src/interpreter.rs` | 8983/9329 | 96.29% |

## Notable uncovered hotspots (first 20 line hits)
- `src/main.rs`: 208, 211, 226, 227, 230, 231, 244, 247, 262, 263, 283, 284, 289, 290, 305, 308, 317, 318, 319, 336
- `src/llvm/compiler.rs`: 37, 38, 39, 95, 98, 109, 110, 111, 114, 119, 157, 162, 175, 185, 186, 195, 196, 197, 255, 295
- `src/wasm_compiler.rs`: 25, 26, 27, 72, 137, 139, 140, 145, 154, 199, 222, 235, 236, 237, 243, 249, 260, 267, 274, 292
- `src/lsp/main.rs`: 82, 83, 84, 85, 86, 90, 91, 107, 117, 121, 126, 160, 172, 173, 210, 212, 229, 274, 275, 294
- `src/compiler.rs`: 591, 694
- `src/interpreter.rs`: 72, 79, 92, 99, 205, 378, 568, 1081, 1118, 1119, 1120, 1121, 1122, 1123, 1125, 1127, 1128, 1401, 1509, 1538

## Observations
- Target line coverage (>=98%) is already met for src files at 98.18%.
- The lowest coverage is concentrated in CLI entry/flag handling (`src/main.rs`) and compiler backends (`src/llvm/compiler.rs`, `src/wasm_compiler.rs`).
- LSP request/notification branches and edge-condition handling account for a meaningful portion of uncovered lines in `src/lsp/main.rs`.
- Region coverage (95.45%) and instantiation coverage (72.35%) indicate remaining unexercised branches and generic paths even where line coverage is high.
