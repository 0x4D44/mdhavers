# Journal - tri 3D graphics planning

Date: 2025-12-19

## 09:20
- Captured requirements: strict Scots API, English properties allowed, module strategy A (fetch "tri"), three.js semantics, wgpu backend, all targets including WAT, full native linkage.
- Planned spec sections: naming glossary, API surface, native hooks, target plans, WAT host runner.

## 10:05
- Drafted and saved the tri 3D spec to wrk_docs/2025.12.19 - tri-3d-graphics-spec.md.
- Included phased roadmap, target-specific architecture, and NativeObject hook requirements.
- Noted WAT constraints and host-runner requirement for single-binary support.

## 10:15
- Ready for review; awaiting feedback on naming glossary and WAT runner expectations before implementation.

## 11:05
- Started detailed design for NativeObject and WAT host runner per request.
- Gathered current WAT compiler shape: minimal i64-only values; no dict/object support.

## 11:35
- Drafted NativeObject trait and interpreter integration plan (get/set/call routing).
- Sketched LLVM runtime tag and accessors for native objects.

## 12:05
- Designed WAT host runner strategy: wasmtime host with wgpu + handle-based value model.
- WAT compiler changes scoped to host-handle ops and tri module special-case.

## 12:15
- Saved design doc: wrk_docs/2025.12.19 - nativeobject-and-wat-runner-design.md.
